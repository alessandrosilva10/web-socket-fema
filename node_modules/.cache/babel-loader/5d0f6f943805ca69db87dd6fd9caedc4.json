{"ast":null,"code":"import _regeneratorRuntime from \"/home/alessandro/Desktop/backend_almir/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/alessandro/Desktop/backend_almir/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this;\n\nvar url = 'http://127.0.0.1:8000/api/v1/notes/';\nexport var fetchNotes = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", fetch(url, {\n              method: 'GET',\n              headers: {//'Authorization': `Token ${this.props.cookies.get('token')}`\n              }\n            }).then(function (resp) {\n              return resp.json();\n            }).then(function (res) {\n              return _this.setState({\n                notes: res\n              }, function () {\n                alert(this.state.notes);\n                console.log(this.state.notes);\n                console.log(this.props.cookies.get('token'));\n              });\n            }).catch(function (error) {\n              return console.log(error);\n            }));\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function fetchNotes() {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var fetchNote = function fetchNote(id) {\n  return {\n    'id': 123,\n    'title': 'Hello',\n    'content': 'Testing'\n  };\n};\nexport var addNote = function addNote(note) {\n  return fetch(url, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json' // 'Authorization': `Token ${this.props.cookies.get('token')}`\n\n    },\n    body: JSON.stringify(note)\n  }).then(function (resp) {\n    return resp.json();\n  }).then(\n  /*res => data,*/\n  function () {\n    console.log(this.data);\n  });\n  return note;\n};\nexport var updateNote = function updateNote(note) {};","map":{"version":3,"sources":["/home/alessandro/Desktop/backend_almir/frontend/src/api.js"],"names":["url","fetchNotes","fetch","method","headers","then","resp","json","res","setState","notes","alert","state","console","log","props","cookies","get","catch","error","fetchNote","id","addNote","note","Accept","body","JSON","stringify","data","updateNote"],"mappings":";;;;;AAAA,IAAMA,GAAG,GAAG,qCAAZ;AAEA,OAAO,IAAMC,UAAU;AAAA,sEAAG;AAAA;AAAA;AAAA;AAAA;AAAA,6CACfC,KAAK,CAACF,GAAD,EAAM;AACdG,cAAAA,MAAM,EAAE,KADM;AAEdC,cAAAA,OAAO,EAAE,CACP;AADO;AAFK,aAAN,CAAL,CAKFC,IALE,CAKI,UAAAC,IAAI;AAAA,qBAAIA,IAAI,CAACC,IAAL,EAAJ;AAAA,aALR,EAKyBF,IALzB,CAK+B,UAAAG,GAAG;AAAA,qBAAI,KAAI,CAACC,QAAL,CAAc;AAACC,gBAAAA,KAAK,EAAEF;AAAR,eAAd,EAA4B,YAAW;AAC5EG,gBAAAA,KAAK,CAAC,KAAKC,KAAL,CAAWF,KAAZ,CAAL;AACAG,gBAAAA,OAAO,CAACC,GAAR,CAAY,KAAKF,KAAL,CAAWF,KAAvB;AACAG,gBAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWC,OAAX,CAAmBC,GAAnB,CAAuB,OAAvB,CAAZ;AACL,eAJ0C,CAAJ;AAAA,aALlC,EAUJC,KAVI,CAUE,UAAAC,KAAK;AAAA,qBAAIN,OAAO,CAACC,GAAR,CAAYK,KAAZ,CAAJ;AAAA,aAVP,CADe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAVlB,UAAU;AAAA;AAAA;AAAA,GAAhB;AAcP,OAAO,IAAMmB,SAAS,GAAG,SAAZA,SAAY,CAACC,EAAD,EAAQ;AAC7B,SAAM;AACF,UAAM,GADJ;AAEF,aAAS,OAFP;AAGF,eAAW;AAHT,GAAN;AAKH,CANM;AAQP,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,IAAD,EAAU;AAC7B,SAAOrB,KAAK,CAACF,GAAD,EAAM;AACdG,IAAAA,MAAM,EAAE,MADM;AAEdC,IAAAA,OAAO,EAAE;AACNoB,MAAAA,MAAM,EAAE,kBADF;AAEN,sBAAgB,kBAFV,CAGP;;AAHO,KAFK;AAOdC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeJ,IAAf;AAPQ,GAAN,CAAL,CAQFlB,IARE,CAQI,UAAAC,IAAI;AAAA,WAAIA,IAAI,CAACC,IAAL,EAAJ;AAAA,GARR,EAQyBF,IARzB;AAQ+B;AAAiB,cAAW;AAC9DQ,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKc,IAAjB;AACD,GAVI,CAAP;AAYA,SAAOL,IAAP;AACH,CAdM;AAgBP,OAAO,IAAMM,UAAU,GAAG,SAAbA,UAAa,CAACN,IAAD,EAAU,CAEnC,CAFM","sourcesContent":["const url = 'http://127.0.0.1:8000/api/v1/notes/';\n\nexport const fetchNotes = async() => {\n    return fetch(url, {\n        method: 'GET',\n        headers: {\n          //'Authorization': `Token ${this.props.cookies.get('token')}`\n        }\n      }).then( resp => resp.json()).then( res => this.setState({notes: res}, function() {\n            alert(this.state.notes)\n            console.log(this.state.notes)\n            console.log(this.props.cookies.get('token'))\n      }))\n      .catch(error => console.log(error))\n    }\n\nexport const fetchNote = (id) => {\n    return{\n        'id': 123,\n        'title': 'Hello',\n        'content': 'Testing'\n    }\n}\n\nexport const addNote = (note) => {\n    return fetch(url, {\n        method: 'POST',\n        headers: {\n           Accept: 'application/json',\n           'Content-Type': 'application/json',\n          // 'Authorization': `Token ${this.props.cookies.get('token')}`\n        },\n        body: JSON.stringify(note)\n      }).then( resp => resp.json()).then( /*res => data,*/ function() {\n        console.log(this.data)\n      })\n\n    return note;\n}\n\nexport const updateNote = (note) => {\n\n}\n"]},"metadata":{},"sourceType":"module"}